

ğŸ“˜ PocketSpeak V1.5 äº§å“éœ€æ±‚æ–‡æ¡£ï¼ˆPRDï¼‰

ç‰ˆæœ¬å·ï¼šv1.5
æ›´æ–°æ—¶é—´ï¼š2025-09-29
è´Ÿè´£äººï¼šç”¨æˆ·ï¼ˆPMï¼‰
æ‰§è¡Œè€…ï¼šClaude + Flutter å‰ç«¯ + FastAPI åç«¯

â¸»

ğŸ¯ V1.5 ç‰ˆæœ¬ç›®æ ‡ï¼š

æå‡å­¦ä¹ æ•ˆç‡ï¼Œä¼˜åŒ–ç”¨æˆ·åœ¨ä¸ AI å¯¹è¯ä¸­çš„â€œç”Ÿè¯å¤„ç†â€ä½“éªŒã€‚

â¸»

ğŸ§© ä¸€ã€æ ¸å¿ƒåŠŸèƒ½æ¦‚è¿°

åŠŸèƒ½æ¨¡å—	è¯´æ˜
ğŸ“– å•è¯ç‚¹å‡»é‡Šä¹‰	èŠå¤©è¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·ç‚¹å‡»é™Œç”Ÿå•è¯ï¼Œå³å¯æŸ¥çœ‹ä¸­è‹±æ–‡é‡Šä¹‰ã€éŸ³æ ‡ã€å‘éŸ³æŒ‰é’®ï¼Œå¹¶å¯åŠ å…¥ç”Ÿè¯æœ¬
ğŸ”Š å‘éŸ³æ’­æ”¾	ç”¨æˆ·å¯ç‚¹å‡»è‹±å¼ / ç¾å¼éŸ³æ ‡æ—çš„æŒ‰é’®ï¼Œæ”¶å¬å¯¹åº”å‘éŸ³ï¼ˆä»ç¬¬ä¸‰æ–¹ TTS æœåŠ¡è·å–ï¼‰
ğŸ“š ç”Ÿè¯æœ¬ç³»ç»Ÿï¼ˆåŸºç¡€ç‰ˆï¼‰	ç”¨æˆ·å¯ç‚¹å‡»â€œåŠ å…¥ç”Ÿè¯æœ¬â€ï¼Œå°†å•è¯åŠé‡Šä¹‰æ”¶è—ï¼ˆåç»­ç‰ˆæœ¬å¯åŠ å…¥ç”Ÿè¯æœ¬é¡µé¢ï¼‰
ğŸ”§ APIé…ç½®æ¨¡å—	æ‰€æœ‰ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆè¯å…¸ã€TTS ç­‰ï¼‰é€šè¿‡ YAML æ–‡ä»¶é›†ä¸­é…ç½®ï¼Œå¯æ”¯æŒåæœŸåˆ‡æ¢å¤šä¸ª API


â¸»

ğŸ“± äºŒã€é¡µé¢è®¾è®¡

1. èŠå¤©é¡µå•è¯å¼¹çª—ï¼ˆWord Definition Bottom Sheetï¼‰
	â€¢	è§¦å‘æ–¹å¼ï¼šç”¨æˆ·åœ¨ AI èŠå¤©å†…å®¹ä¸­ç‚¹å‡»ä»»æ„è‹±æ–‡å•è¯
	â€¢	å±•ç°æ–¹å¼ï¼šåº•éƒ¨å¼¹çª—ï¼ˆBottom Sheetï¼‰
	â€¢	å±•ç¤ºå†…å®¹ï¼š

å…ƒç´ 	æè¿°
ğŸ”  å•è¯æœ¬ä½“	ä¾‹å¦‚ï¼šâ€œreluctantâ€ï¼ˆåŠ ç²—ï¼‰
ğŸˆ¯ ä¸­æ–‡é‡Šä¹‰	æ”¯æŒå¤šä¸ªé‡Šä¹‰æ¡ç›®ï¼Œæ¥æºå¦‚æœ‰é“ã€Oxford API
ğŸ“– è‹±å¼éŸ³æ ‡	/rÉªËˆlÊŒktÉ™nt/ + å‘éŸ³æŒ‰é’®
ğŸ“– ç¾å¼éŸ³æ ‡	/rÉªËˆlÊŒktÉ™nt/ + å‘éŸ³æŒ‰é’®
â• åŠ å…¥ç”Ÿè¯æœ¬	å¯ç‚¹å‡»æŒ‰é’®ï¼Œè°ƒç”¨åç«¯æ¥å£åŠ å…¥æ”¶è—åˆ—è¡¨
âŒ å…³é—­æŒ‰é’®	å…³é—­å¼¹çª—


â¸»

ğŸ§  ä¸‰ã€ç”¨æˆ·äº¤äº’æµç¨‹

graph TD
A[ç”¨æˆ·ç‚¹å‡»å•è¯] --> B[å‰ç«¯æ•è·è¯è¯­å¹¶è¯·æ±‚è¯ä¹‰æ¥å£]
B --> C[åç«¯è°ƒç”¨ dictionary API]
C --> D[è¿”å›é‡Šä¹‰ + éŸ³æ ‡ + TTSéŸ³é¢‘åœ°å€]
D --> E[å‰ç«¯æ¸²æŸ“å¼¹çª—]
E --> F[ç‚¹å‡»æ’­æ”¾æŒ‰é’® -> æ’­æ”¾éŸ³é¢‘]
E --> G[ç‚¹å‡»åŠ å…¥ç”Ÿè¯æœ¬ -> è°ƒç”¨æ”¶è—API]


â¸»

ğŸ”Œ å››ã€æ¥å£è®¾è®¡ï¼ˆåç«¯ï¼‰

1. æŸ¥è¯¢å•è¯é‡Šä¹‰æ¥å£
	â€¢	GET /api/words/lookup
	â€¢	å‚æ•°ï¼šword=string
	â€¢	è¿”å›ç¤ºä¾‹ï¼š

{
  "word": "reluctant",
  "phonetic": {
    "uk": "/rÉªËˆlÊŒktÉ™nt/",
    "us": "/rÉªËˆlÊŒktÉ™nt/"
  },
  "audio": {
    "uk": "https://xxx/reluctant_uk.mp3",
    "us": "https://xxx/reluctant_us.mp3"
  },
  "definitions": [
    "ä¸æƒ…æ„¿çš„ï¼Œå‹‰å¼ºçš„",
    "çŠ¹è±«çš„ï¼Œè¿Ÿç–‘çš„"
  ]
}


â¸»

2. åŠ å…¥ç”Ÿè¯æœ¬æ¥å£
	â€¢	POST /api/words/favorite
	â€¢	Bodyï¼š

{
  "user_id": "abc123",
  "word": "reluctant"
}

	â€¢	è¿”å›ï¼š{"status": "ok"}

â¸»

ğŸ”§ äº”ã€APIé…ç½®æ¨¡å—è®¾è®¡

ğŸ“ ç»“æ„å»ºè®®ï¼š

backend/
â””â”€â”€ config/
    â””â”€â”€ external_apis.yaml         # æ‰€æœ‰ç¬¬ä¸‰æ–¹ API é…ç½®
    â””â”€â”€ api_loader.py              # APIåŠ¨æ€åŠ è½½å™¨

ğŸ§¾ external_apis.yaml ç¤ºä¾‹ï¼š

dictionary:
  provider: youdao
  youdao:
    app_id: "xxxxx"
    app_key: "yyyyy"
    endpoint: "https://openapi.youdao.com/api"
  free_dictionary:
    endpoint: "https://api.dictionaryapi.dev/api/v2/entries/en"

tts:
  provider: google
  google:
    api_key: "zzz"
    endpoint: "https://texttospeech.googleapis.com/v1/..."


â¸»

ğŸ”§ å…­ã€æ•°æ®åº“ç»“æ„ï¼ˆç”Ÿè¯è¡¨ï¼‰

å­—æ®µå	ç±»å‹	æè¿°
id	string	å”¯ä¸€æ ‡è¯†
user_id	string	ç”¨æˆ·ID
word	string	å•è¯åŸæ–‡
created_at	datetime	æ”¶è—æ—¶é—´


â¸»

âœ… ä¸ƒã€æŠ€æœ¯å®ç°è¦ç‚¹
	â€¢	ç¬¬ä¸‰æ–¹è¯å…¸å»ºè®®ä¼˜å…ˆä½¿ç”¨ï¼š
	â€¢	å…è´¹ä¼˜å…ˆï¼šDictionaryAPI, Free Dictionary
	â€¢	å•†ä¸šæˆæƒå¤‡ç”¨ï¼šæœ‰é“ã€æœ‰é“è¯å…¸æµ·å¤–ç‰ˆã€Oxford API
	â€¢	éŸ³é¢‘æ ¼å¼ç»Ÿä¸€ä¸º MP3ï¼ˆç¡®ä¿å…¼å®¹ iOS + Android æ’­æ”¾ï¼‰
	â€¢	Claude åœ¨è°ƒç”¨ API æ—¶å¿…é¡»é€šè¿‡ api_loader.py è¯»å–é…ç½®ï¼Œç¦æ­¢ç¡¬ç¼–ç 

â¸»

ğŸ“ˆ å…«ã€æœªæ¥å¯æ‹“å±•ç‚¹

æ¨¡å—	è¯´æ˜
ç”Ÿè¯æœ¬é¡µé¢	å±•ç¤ºç”¨æˆ·æ”¶è—çš„æ‰€æœ‰å•è¯ï¼Œå¯åˆ†ç±»ã€æ‰“æ ‡ç­¾ã€å­¦ä¹ 
å•è¯ç»ƒä¹ 	åŸºäºç”Ÿè¯ç”Ÿæˆå¡«ç©ºé¢˜ã€å¬å†™ç­‰ç»ƒä¹ 
AIè¯­ä¹‰è§£é‡Š	Claude è‡ªåŠ¨ç”¨è‹±æ–‡è§£é‡Šç”Ÿè¯ï¼ˆåˆä¸­é«˜çº§è¯æ±‡é€‚é…ï¼‰


